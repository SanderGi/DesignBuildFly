<!DOCTYPE html>
<html>
<head>
  <title>Alex is awesome</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<header>
 Alex is awesome  
</header>
<main>
  <h1>
    Upload .bfl or .txt flight log data to convert to csv!
  </h1>
  <p>
    Make sure the file name contains only alphanumeric characters.
  </p>
  <div id="file-drop" style="width: 80%">
    <label><i class="fa fa-image"></i><input id="file-upload" type="file" accept="image/*" style="display: none;"></label>
  </div>
  <br>
  <button class="button">To CSV!</button>
</main>
<footer>
Alex is awesome
</footer>

<script>

function handleUploadedFile(file) {
    console.log(file)
}

const fileUploader = document.getElementById('file-upload');
fileUploader.addEventListener('input', e => {
    handleUploadedFile(fileUploader.files[0]);
});

const fileDrop = document.getElementById('file-drop');
fileDrop.addEventListener('drop', (ev) => {
    // Prevent default behavior (Prevent file from being opened)
    ev.preventDefault();
  
    if (ev.dataTransfer.items) {
        // Use DataTransferItemList interface to access the file(s)
        [...ev.dataTransfer.items].forEach((item, i) => {
            // If dropped items aren't files, reject them
            if (item.kind === "file") {
                const file = item.getAsFile();
                handleUploadedFile(file);
            }
        });
    } else {
        // Use DataTransfer interface to access the file(s)
        [...ev.dataTransfer.files].forEach((file, i) => {
            handleUploadedFile(file);
        });
    }
});
fileDrop.addEventListener('dragover', (ev) => {
    // Prevent default behavior (Prevent file from being opened)
    ev.preventDefault();
}); 
  
</script>
  
</body>
</html>